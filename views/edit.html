<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<title>Notes App</title>

	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	<link rel="stylesheet" href="/style.css">

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</head>

<body>
	<div class="container">
		<div class="header clearfix">
			<nav>
				<ul class="nav nav-pills pull-right">
					<li role="presentation"><a href="/notes">Home</a></li>
					<li role="presentation"><a href="/create">Create</a></li>
					<li role="presentation"><a href="/logout">Logout</a></li>
				</ul>
			</nav>
			<h3 class="text-muted">Notes App</h3>
		</div>

		<form class="row" method="post">
			<div class="col-sm-12">
				<div class="input-group col-sm-12">
					<label for="title">Title</label>
					<input type="text" name="title" id="title" class="form-control">
					<input id="author" name="author" hidden>
				</div>
			</div>

			<div class="col-sm-12">
				<br>
			</div>

			<div class="col-sm-12">
				<div class="input-group col-sm-12">
					<label for="details">Note Details</label>
					<textarea id="details" name="details" class="form-control" rows="5"></textarea>
				</div>
			</div>

			<div class="col-sm-12">
				<br>
			</div>

			<div class="col-sm-12">
				<button class="btn btn-default" type="submit">Update</button>
				<a id="deleteBtn" href="/delete" class="btn btn-danger">Delete</a>
			</div>
		</form>
	</div>

	<script>
		var id = document.location.pathname.split('/')[2]
		
		$.get('/edit/' + id + '/json', (data) => {
			$('#title').val(data.title)
			$('#author').val(data.author)
			$('#details').val(data.details)
		})

		$('#deleteBtn').attr('href', '/delete/' + id)
	</script>
</body>

</html>